<section class="container">
  <p>登入
    <a routerLink="/register">没有帐号？点击注册</a>
  </p>
  <div class="row">
    <form class="col s12" #loginForm="ngForm" (ngSubmit)="login()">
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">account_circle</i>
          <input id="icon_prefix" type="text" class="validate" name="username" required [(ngModel)]="user.username" #username="ngModel">
          <label for="icon_prefix">用户名</label>
          <div *ngIf="!username.valid && (username.dirty || username.touched)" class="alert alert-danger">
            请填写用户名
          </div>
        </div>
        <div class="input-field col s12">
          <i class="material-icons prefix">lock</i>
          <input id="icon_password" type="password" class="validate" required name="password" required [(ngModel)]="user.password" #password="ngModel">
          <label for="icon_password">密码</label>
          <div *ngIf="!password.valid && (password.dirty || password.touched)" class="alert alert-danger">
            请填写密码
          </div>
        </div>

      </div>
      <button class="btn waves-effect waves-light" type="submit" name="action" [disabled]="loginForm.invalid||loading">Submit
        <i class="material-icons right">send</i>
      </button>

      <app-loading *ngIf="loading"></app-loading>
    </form>
  </div>
</section>